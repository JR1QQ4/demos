(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d766ec6"],{2532:function(t,i,e){"use strict";var s=e("23e7"),a=e("5a34"),n=e("1d80"),c=e("ab13");s({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~String(n(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},"50a2":function(t,i,e){"use strict";var s=e("6c26"),a=e.n(s);a.a},"5a34":function(t,i,e){var s=e("44e7");t.exports=function(t){if(s(t))throw TypeError("The method doesn't accept regular expressions");return t}},"6c26":function(t,i,e){},"7bb6":function(t,i,e){},"97bb":function(t,i,e){"use strict";var s=e("7bb6"),a=e.n(s);a.a},ab13:function(t,i,e){var s=e("b622"),a=s("match");t.exports=function(t){var i=/./;try{"/./"[t](i)}catch(e){try{return i[a]=!1,"/./"[t](i)}catch(s){}}return!1}},bb51:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"category"}},[e("NavBar",{staticClass:"ct-nav",scopedSlots:t._u([{key:"center",fn:function(){return[e("div",[t._v("分类页")])]},proxy:!0}])}),e("div",{staticClass:"container"},[e("Scroll",{staticClass:"slidebar"},[e("CategorySlide",{attrs:{slideList:t.categoryList},on:{slideclick:t.slideclick}})],1),e("Scroll",{staticClass:"display"},[e("CategoryDetail",{attrs:{detailsList:t.subcategoryList}}),e("TabControl",{attrs:{titles:["流行","新款","精选"]},on:{tabclick:t.tabclick}}),t.categoryDetailList?e("div",[e("GoodsList",{attrs:{goods:t.categoryDetailList}})],1):e("div",[e("div",{staticClass:"placeholder"},[t._v("暂无数据")])])],1)],1)],1)},a=[],n=(e("caad"),e("2532"),e("a7ac")),c=e("5d17"),r=e("9bd0"),o=e("6d71"),l=function(){var t=this,i=t.$createElement,e=t._self._c||i;return 0!=t.slideList.length?e("div",{staticClass:"ct-slide"},t._l(t.slideList,(function(i,s){return e("div",{key:s,staticClass:"slide-item",class:{active:t.currentIndex===s},on:{click:function(e){return t.slideClick(i.maitKey,i.miniWallkey,s)}}},[t._v(t._s(i.title))])})),0):t._e()},u=[],d={name:"category-silde",components:{},props:{slideList:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{slideClick:function(t,i,e){this.currentIndex=e,this.$emit("slideclick",{maitKey:t,miniWallkey:i,index:e})}}},y=d,g=(e("e854"),e("2877")),L=Object(g["a"])(y,l,u,!1,null,"fd4ca0b2",null),f=L.exports,h=function(){var t=this,i=t.$createElement,e=t._self._c||i;return 0!=t.detailsList.length?e("div",{staticClass:"ct-detail"},t._l(t.detailsList,(function(i,s){return e("div",{key:s,staticClass:"detail-item"},[e("a",{attrs:{href:i.link}},[e("img",{attrs:{src:i.image,alt:""}}),e("p",[t._v(t._s(i.title))])])])})),0):t._e()},b=[],p={name:"category-detail",props:["detailsList"],mounted:function(){}},v=p,k=(e("97bb"),Object(g["a"])(v,h,b,!1,null,"3fe0019a",null)),m=k.exports,C=e("1ae0");function _(){return Object(C["a"])({url:"/category"})}function x(t){return Object(C["a"])({url:"/subcategory",params:{maitKey:t}})}function D(t,i){return Object(C["a"])({url:"/subcategory/detail",params:{miniWallkey:t,type:i}})}var S={name:"category",components:{NavBar:n["a"],CategorySlide:f,Scroll:c["a"],CategoryDetail:m,TabControl:r["a"],GoodsList:o["a"]},data:function(){return{categoryList:[],subcategoryList:[],categoryDetailList:[],detailList:[],goodsList:[],curMiniWallkey:"10062603",curIndex:0,keyList:[],keyList2:[],list:[]}},methods:{getCategoryList:function(){var t=this;_().then((function(i){t.categoryList=i.data.category.list,t.categoryList.length>0&&(t.getSubcategoryList(t.categoryList[0].maitKey,0),t.getCategoryDetailList(t.categoryList[0].miniWallkey,"pop",0),t.getCategoryDetailList(t.categoryList[0].miniWallkey,"new",0),t.getCategoryDetailList(t.categoryList[0].miniWallkey,"sell",0),t.keyList.push(t.categoryList[0].miniWallkey),t.keyList2.push(t.categoryList[0].maitKey))})).catch((function(t){}))},getSubcategoryList:function(t,i){var e=this;x(t).then((function(t){e.detailList[i]=t.data.list,e.detailList.length>1?e.subcategoryList=e.detailList[i]:e.subcategoryList=e.detailList[0]})).catch((function(t){}))},getCategoryDetailList:function(t,i,e){var s=this;this.list=[],D(t,i).then((function(t){s.list.push(t),s.goodsList[e]=s.list,s.goodsList.length>0?s.categoryDetailList=s.goodsList[e][e]:s.categoryDetailList=s.goodsList[0][0]})).catch((function(t){}))},slideclick:function(t){var i=t.maitKey,e=t.miniWallkey,s=t.index;this.curMiniWallkey=e,this.curIndex=s,this.keyList.includes(e)&&this.keyList2.includes(i)?(this.subcategoryList=this.detailList[s],this.categoryDetailList=this.goodsList[s][0]):(this.keyList[s]=e,this.keyList2[s]=i,this.getCategoryDetailList(e,"pop",s),this.getCategoryDetailList(e,"new",s),this.getCategoryDetailList(e,"sell",s),this.getSubcategoryList(i,s))},tabclick:function(t){this.categoryDetailList=this.goodsList[this.curIndex][t]}},created:function(){this.getCategoryList()}},W=S,w=(e("50a2"),Object(g["a"])(W,s,a,!1,null,"339fa2b2",null));i["default"]=w.exports},caad:function(t,i,e){"use strict";var s=e("23e7"),a=e("4d64").includes,n=e("44d2");s({target:"Array",proto:!0},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")},e854:function(t,i,e){"use strict";var s=e("f012"),a=e.n(s);a.a},f012:function(t,i,e){}}]);